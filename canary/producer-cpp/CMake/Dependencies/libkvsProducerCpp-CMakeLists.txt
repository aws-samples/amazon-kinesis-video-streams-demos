cmake_minimum_required(VERSION 3.10.2)

project(libkvsProducerCpp-download NONE)

include(ExternalProject)

message("PrintMessage: Printing within dep file.  ${OPEN_SRC_INSTALL_PREFIX}")

ExternalProject_Add(libkvsProducerCpp-download
    GIT_REPOSITORY    https://github.com/awslabs/amazon-kinesis-video-streams-producer-sdk-cpp.git
    GIT_TAG           56d175e5ca0b6ed2cce8c8b7682a94a24cd9cb8c
    PREFIX            ${CMAKE_CURRENT_BINARY_DIR}/build
    CMAKE_ARGS        -DBUILD_GSTREAMER_PLUGIN=ON -DCMAKE_INSTALL_PREFIX=${OPEN_SRC_INSTALL_PREFIX} -DOPEN_SRC_INSTALL_PREFIX=${OPEN_SRC_INSTALL_PREFIX}
    BUILD_ALWAYS      TRUE
    TEST_COMMAND      ""
)